<!-- Autores: Arthur, Leonel-->

<!DOCTYPE html> 
<html lang="pt-BR"> 
<head> 
    <!-- Declaração de meta-informações e importações de estilos/scripts -->
    <meta charset="UTF-8"> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    
    <title>NotaDez</title> 

    <!-- CSS local -->
    <link rel="stylesheet" href="Static/styles/index.css"> 

    <!-- UIkit JS e CSS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.24.1/dist/js/uikit.min.js"></script> 
    <link href="https://cdn.jsdelivr.net/npm/uikit@3.24.1/dist/css/uikit.min.css" rel="stylesheet"> 

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous"> 
    
    <!-- Ícones do Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"> 

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script> 
    
    <!-- Script principal -->
    <script src="scripts/app.js"></script> 
</head> 

<body> 
<header class="container-fluid bg-primary text-white p-3 mb-4"> 
    <!-- Cabeçalho com link para voltar ao dashboard e botão de logout -->
    <div class="row align-items-center"> 
        <div class="col"> 
            <a href="dashbord.html" class="text-white text-decoration-none">← Voltar Dashboard</a> 
        </div> 
        <div class="col-auto"> 
            <a href="index.html" id="logoutBtn" class="text-white text-decoration-none">Sair</a> 
        </div> 
    </div> 
</header> 

<main class="container"> 
    <h1 class="text-center mb-4">Turma / Lançamento de Notas</h1> 

    <!-- Área de informações da turma -->
    <div id="info" class="mb-5"> 
        <div class="form-group mb-3"> 
            <div class="row align-items-center"> 
                <div class="col-auto"> 
                    <h2>Informações</h2> 
                    <div id="turmaInfo" class="form-text" style="font-size:13px;line-height:1.4;color:#333;"></div> 
                </div> 
            </div> 
        </div> 
    </div> 

    <!-- Seção de componentes de nota (provas/atividades) -->
    <section class="mb-5"> 
        <h2 class="mb-3">Componentes de Nota</h2> 
        <p class="text-muted mb-4" style="font-size:13px;line-height:1.4;"> 
            Cada prova / atividade cadastrada vira uma coluna de nota (0.00 a 10.00). Exemplo: P1, P2, P3. 
        </p> 

        <div class="row"> 
            <!-- Lista de componentes já cadastrados -->
            <div class="col-md-6 mb-4"> 
                <div class="card"> 
                    <div class="card-body"> 
                        <h3 class="card-title">Já cadastrados</h3> 
                        <div id="listaComponentes"></div> 
                    </div> 
                </div> 
            </div> 

            <!-- Formulário para adicionar novo componente -->
            <div class="col-md-6 mb-4"> 
                <div class="card"> 
                    <div class="card-body"> 
                        <h3 class="card-title">Novo componente</h3> 
                        <form id="formComponente"> 
                            <div class="mb-3"> 
                                <label class="form-label">Nome (ex: Prova 1)</label> 
                                <input type="text" class="form-control" name="nomeComp" required /> 
                            </div> 
                            <div class="mb-3"> 
                                <label class="form-label">Sigla (ex: P1)</label> 
                                <input type="text" class="form-control" name="sigla" required /> 
                            </div> 
                            <div class="mb-3"> 
                                <label class="form-label">Descrição</label> 
                                <textarea class="form-control" name="descricao" rows="3" required></textarea> 
                            </div> 
                            <div class="mb-3"> 
                                <label class="form-label">Peso na Nota Final (%)</label> 
                                <input type="number" class="form-control" name="peso" min="0" max="100" step="0.01" placeholder="Ex: 40" /> 
                                <small class="form-text text-muted">Percentual que este componente vale na nota final (0-100). Ex: 40 = 40%</small> 
                            </div> 
                            <button type="submit" class="btn btn-outline-success">Adicionar Componente</button> 
                        </form> 
                    </div> 
                </div> 
            </div> 
        </div> 

        <!-- Informações sobre cálculo da nota final -->
        <div class="alert alert-info mt-3"> 
            A nota final será calculada com base nos pesos de cada componente. 
            Se os pesos não somarem 100%, será usada média ponderada normalizada. 
            Se nenhum peso for definido, será usada média simples. 
        </div> 
    </section> 

    <!-- Seção de cadastro de alunos -->
    <section class="mb-5"> 
        <h2 class="mb-3">Alunos da Turma</h2> 
        <div class="row"> 

            <!-- Formulário manual de aluno -->
            <div class="col-md-6 mb-4"> 
                <div class="card"> 
                    <div class="card-body"> 
                        <h3 class="card-title">Adicionar Aluno Manualmente</h3> 
                        <form id="formAluno"> 
                            <div class="mb-3"> 
                                <label class="form-label">Matrícula / RA</label> 
                                <input type="text" class="form-control" name="matricula" required /> 
                            </div> 
                            <div class="mb-3"> 
                                <label class="form-label">Nome Completo</label> 
                                <input type="text" class="form-control" name="nome" required /> 
                            </div> 
                            <button type="submit" class="btn btn-outline-success">Adicionar Aluno</button> 
                        </form> 
                    </div> 
                </div> 
            </div> 

            <!-- Importação de alunos via CSV -->
            <div class="col-md-6 mb-4"> 
                <div class="card"> 
                    <div class="card-body"> 
                        <h3 class="card-title">Importar Alunos via CSV</h3> 
                        <form id="formImportCSV"> 
                            <div class="mb-3"> 
                                <label class="form-label">Arquivo CSV (colunas: Matricula,Nome,...)</label> 
                                <input type="file" class="form-control" id="csvFile" accept=".csv" required /> 
                            </div> 
                            <button type="submit" class="btn btn-outline-success">Importar CSV</button> 
                            <div class="alert alert-info mt-3"> 
                                Só usamos as DUAS PRIMEIRAS COLUNAS do CSV: 
                                1ª = identificador (RA/matrícula), 
                                2ª = nome. 
                                Demais colunas são ignoradas. 
                            </div> 
                        </form> 
                    </div> 
                </div> 
            </div> 

        </div> 
    </section> 

    <!-- Seção das notas -->
    <section class="mb-5"> 
        <h2 class="mb-3">Notas da Turma</h2> 
        <div id="areaNotas" class="mb-4"></div> 

        <!-- Botão de exportação -->
        <div> 
            <button id="btnExportCSV" class="btn btn-outline-primary">Exportar CSV</button> 
            <div class="alert alert-info mt-2"> 
                A exportação CSV só é liberada quando TODAS as notas de TODOS os alunos estiverem preenchidas, conforme descrito no requisito de exportação. 
            </div> 
        </div> 
    </section> 
</main> 

<!-- Rodapé -->
<footer class="container-fluid bg-light text-center py-3 mt-5"> 
    NotaDez - Projeto Integrador 2 (PUC-Campinas, 2025) 
</footer> 

<!-- Scripts do sistema -->
<script src="scripts/config.js"></script> 
<script src="scripts/storage.js"></script> 
<script src="scripts/auth.js"></script> 
<script src="scripts/turma.js"></script> 

</body> 
</html>
